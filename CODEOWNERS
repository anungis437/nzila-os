# CODEOWNERS
# See https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners

# Global fallback — all changes require review
* @nzila/eng

# OS Core — requires senior review
/packages/os-core/** @nzila/eng @nzila/platform

# DB schema — requires platform review (schema changes need migrations)
/packages/db/src/schema/** @nzila/platform @nzila/eng
/packages/db/drizzle/**    @nzila/platform @nzila/eng

# Security-sensitive packages
/packages/payments-stripe/** @nzila/platform @nzila/security
/packages/qbo/**             @nzila/platform @nzila/security
/packages/blob/**            @nzila/platform

# Auth & policy — any change to authorization logic requires security review
/packages/os-core/src/policy/**  @nzila/security @nzila/platform
/packages/os-core/src/policy.ts  @nzila/security @nzila/platform
/apps/console/middleware.ts      @nzila/security @nzila/platform
/apps/partners/middleware.ts     @nzila/security @nzila/platform
/apps/union-eyes/middleware.ts   @nzila/security @nzila/platform

# Audit & compliance
/apps/console/lib/audit*.ts   @nzila/security @nzila/platform
/ops/compliance/**             @nzila/security @nzila/platform
/tooling/contract-tests/**     @nzila/platform

# Governance — immutable controls, profiles, GA gate
/governance/**                 @nzila/platform @nzila/security
/security/redteam/**           @nzila/security @nzila/platform

# AI / ML packages
/packages/ai-core/**  @nzila/ai
/packages/ai-sdk/**   @nzila/ai @nzila/eng
/packages/ml-core/**  @nzila/ml
/packages/ml-sdk/**   @nzila/ml @nzila/eng

# CI / Security workflows — any change requires review
/.github/**    @nzila/platform @nzila/security
/tooling/**    @nzila/platform

# Repo contract — requires platform sign-off
/docs/repo-contract/**  @nzila/platform
/docs/hardening/**      @nzila/platform @nzila/security
/ARCHITECTURE.md        @nzila/platform
/SECURITY.md            @nzila/security
/CODEOWNERS             @nzila/platform

# Apps — reviewed by respective team + eng
/apps/console/**    @nzila/eng @nzila/platform
/apps/partners/**   @nzila/eng @nzila/partners
/apps/web/**        @nzila/eng
/apps/union-eyes/** @nzila/eng @nzila/ue

# Ops / compliance docs
/ops/** @nzila/platform @nzila/security
