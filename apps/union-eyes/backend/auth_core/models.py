"""
Django models for auth_core app.
Auto-generated by Nzila Code Generator — 2026-02-17

DO NOT EDIT manually unless you know what you're doing.
Re-run the generator to overwrite.
"""

import uuid

from django.contrib.postgres.fields import ArrayField
from django.contrib.postgres.search import SearchVectorField
from django.db import models

try:
    from pgvector.django import VectorField
except ImportError:
    VectorField = None  # pgvector not installed


class BaseModel(models.Model):
    """Abstract base with standard audit fields."""

    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)

    class Meta:
        abstract = True


class OrganizationModel(BaseModel):
    """Abstract base for multi-organization models."""

    organization = models.ForeignKey(
        "auth_core.Organizations", on_delete=models.CASCADE, related_name="%(class)ss"
    )

    class Meta:
        abstract = True


class Organizations(BaseModel):
    """
    Hierarchical Organizations table for multi-tenancy.
    Supports CLC (Canadian Labour Congress) federation structure.

    Migrated from Drizzle schema: schema-organizations.ts
    """

    # Enum Choices
    ORGANIZATION_TYPE_CHOICES = [
        ("congress", "Congress"),
        ("federation", "Federation"),
        ("union", "Union"),
        ("local", "Local"),
        ("region", "Region"),
        ("district", "District"),
    ]

    CA_JURISDICTION_CHOICES = [
        ("federal", "Federal"),
        ("AB", "Alberta"),
        ("BC", "British Columbia"),
        ("MB", "Manitoba"),
        ("NB", "New Brunswick"),
        ("NL", "Newfoundland and Labrador"),
        ("NS", "Nova Scotia"),
        ("NT", "Northwest Territories"),
        ("NU", "Nunavut"),
        ("ON", "Ontario"),
        ("PE", "Prince Edward Island"),
        ("QC", "Quebec"),
        ("SK", "Saskatchewan"),
        ("YT", "Yukon"),
    ]

    LABOUR_SECTOR_CHOICES = [
        ("healthcare", "Healthcare"),
        ("education", "Education"),
        ("public_service", "Public Service"),
        ("trades", "Trades"),
        ("manufacturing", "Manufacturing"),
        ("transportation", "Transportation"),
        ("retail", "Retail"),
        ("hospitality", "Hospitality"),
        ("technology", "Technology"),
        ("construction", "Construction"),
        ("utilities", "Utilities"),
        ("telecommunications", "Telecommunications"),
        ("financial_services", "Financial Services"),
        ("agriculture", "Agriculture"),
        ("arts_culture", "Arts and Culture"),
        ("other", "Other"),
    ]

    ORGANIZATION_STATUS_CHOICES = [
        ("active", "Active"),
        ("inactive", "Inactive"),
        ("suspended", "Suspended"),
        ("archived", "Archived"),
    ]

    # Primary Key

    # Basic Information
    name = models.TextField()
    slug = models.TextField(unique=True)
    display_name = models.TextField(null=True, blank=True)
    short_name = models.TextField(null=True, blank=True)
    description = models.TextField(null=True, blank=True)

    # Hierarchy
    organization_type = models.CharField(
        max_length=20, choices=ORGANIZATION_TYPE_CHOICES
    )
    parent = models.ForeignKey(
        "self",
        on_delete=models.RESTRICT,
        null=True,
        blank=True,
        related_name="children",
        db_column="parent_id",
    )
    hierarchy_path = ArrayField(
        models.TextField(),
        default=list,
        help_text="Array of ancestor organization IDs from root to this node",
    )
    hierarchy_level = models.IntegerField(
        default=0, help_text="Distance from root (0 = root organization)"
    )

    # Jurisdiction & Sectors
    province_territory = models.TextField(null=True, blank=True)
    sectors = ArrayField(
        models.CharField(max_length=30, choices=LABOUR_SECTOR_CHOICES),
        default=list,
        blank=True,
    )

    # Contact & Metadata
    email = models.TextField(null=True, blank=True)
    phone = models.TextField(null=True, blank=True)
    website = models.TextField(null=True, blank=True)
    address = models.JSONField(
        null=True,
        blank=True,
        help_text="Format: {street, unit, city, province, postal_code, country}",
    )

    # CLC Affiliation
    clc_affiliated = models.BooleanField(
        default=False, help_text="Whether affiliated with Canadian Labour Congress"
    )
    affiliation_date = models.DateField(null=True, blank=True)
    charter_number = models.TextField(null=True, blank=True)

    # Membership Counts (cached)
    member_count = models.IntegerField(default=0)
    active_member_count = models.IntegerField(default=0)
    last_member_count_update = models.DateTimeField(null=True, blank=True)

    # Billing & Settings
    subscription_tier = models.TextField(null=True, blank=True)
    billing_contact_id = models.UUIDField(null=True, blank=True)
    settings = models.JSONField(
        default=dict,
        help_text="Flexible config: {perCapitaRate, remittanceDay, fiscalYearEnd, customFields}",
    )
    features_enabled = ArrayField(models.TextField(), default=list, blank=True)

    # Status & Audit
    status = models.CharField(
        max_length=20, choices=ORGANIZATION_STATUS_CHOICES, default="active"
    )
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    created_by = models.UUIDField(null=True, blank=True)

    # Legacy & Migration
    legacy_org_id = models.UUIDField(
        null=True,
        blank=True,
        db_index=True,
        db_column="legacy_tenant_id",
        help_text="Original org ID from legacy system",
    )

    # CLC Financial Fields
    clc_affiliate_code = models.CharField(max_length=20, null=True, blank=True)
    per_capita_rate = models.DecimalField(
        max_digits=10,
        decimal_places=2,
        null=True,
        blank=True,
        help_text="Default per-capita rate for remittances",
    )
    remittance_day = models.IntegerField(
        default=15, help_text="Day of month for remittances (1-31)"
    )
    last_remittance_date = models.DateTimeField(null=True, blank=True)
    fiscal_year_end = models.DateField(
        null=True, blank=True, help_text="e.g., March 31"
    )

    # Clerk Integration
    clerk_organization_id = models.TextField(
        null=True,
        blank=True,
        unique=True,
        db_index=True,
        help_text="Clerk organization ID (e.g. org_2abc...) — set by webhook on organization.created",
    )

    class Meta:
        db_table = "organizations"
        verbose_name = "Organization"
        verbose_name_plural = "Organizations"
        ordering = ["name"]
        indexes = [
            models.Index(fields=["parent"], name="idx_org_parent"),
            models.Index(fields=["organization_type"], name="idx_org_type"),
            models.Index(fields=["slug"], name="idx_org_slug"),
            models.Index(fields=["hierarchy_level"], name="idx_org_hierarchy_level"),
            models.Index(fields=["status"], name="idx_org_status"),
            models.Index(fields=["clc_affiliated"], name="idx_org_clc_affiliated"),
            models.Index(fields=["legacy_org_id"], name="idx_org_legacy_tenant"),
        ]

    def __str__(self):
        return self.name or self.slug

    def is_clc_root(self):
        """Check if this is the CLC root organization."""
        return self.organization_type == "congress" and self.parent_id is None

    def is_national_union(self):
        """Check if this is a national union (level 1 under CLC)."""
        return self.organization_type == "union" and self.hierarchy_level == 1

    def is_local_union(self):
        """Check if this is a local union."""
        return self.organization_type == "local"

    def is_federation(self):
        """Check if this is a federation."""
        return self.organization_type == "federation"


class OrganizationRelationships(BaseModel):
    """
    Tracks relationships between organizations beyond hierarchy.
    Examples: affiliations, mergers, splits, joint councils.

    Migrated from Drizzle schema: schema-organizations.ts
    """

    RELATIONSHIP_TYPE_CHOICES = [
        ("affiliate", "Affiliate"),
        ("federation", "Federation"),
        ("local", "Local"),
        ("chapter", "Chapter"),
        ("region", "Region"),
        ("district", "District"),
        ("joint_council", "Joint Council"),
        ("merged_from", "Merged From"),
        ("split_from", "Split From"),
    ]

    # Relationship Parties
    parent_org = models.ForeignKey(
        Organizations,
        on_delete=models.CASCADE,
        related_name="child_relationships",
        db_column="parent_org_id",
    )
    child_org = models.ForeignKey(
        Organizations,
        on_delete=models.CASCADE,
        related_name="parent_relationships",
        db_column="child_org_id",
    )

    # Relationship Type
    relationship_type = models.CharField(
        max_length=20, choices=RELATIONSHIP_TYPE_CHOICES
    )

    # Temporal Tracking
    effective_date = models.DateField()
    end_date = models.DateField(null=True, blank=True)

    # Relationship Details
    notes = models.TextField(null=True, blank=True)
    metadata = models.JSONField(default=dict, blank=True)

    # Audit
    created_at = models.DateTimeField(auto_now_add=True)
    created_by = models.UUIDField(null=True, blank=True)

    class Meta:
        db_table = "organization_relationships"
        verbose_name = "Organization Relationship"
        verbose_name_plural = "Organization Relationships"
        indexes = [
            models.Index(fields=["parent_org"], name="idx_org_relationships_parent"),
            models.Index(fields=["child_org"], name="idx_org_relationships_child"),
            models.Index(
                fields=["relationship_type"], name="idx_org_relationships_type"
            ),
        ]
        constraints = [
            models.UniqueConstraint(
                fields=[
                    "parent_org",
                    "child_org",
                    "relationship_type",
                    "effective_date",
                ],
                name="unique_org_relationship",
            )
        ]

    def __str__(self):
        return (
            f"{self.parent_org.name} → {self.child_org.name} ({self.relationship_type})"
        )


class InternationalAddresses(BaseModel):
    """Migrated from drizzle: addresses.ts"""

    organization_id = models.UUIDField(null=True, blank=True)

    class Meta:
        db_table = "international_addresses"
        verbose_name = "InternationalAddresses"


class CountryAddressFormats(BaseModel):
    """Migrated from drizzle: addresses.ts"""

    country_code = models.TextField(unique=True)
    country_name = models.TextField()
    iso3_code = models.TextField(null=True, blank=True)
    locality_label = models.TextField(default="City")
    administrative_area_label = models.TextField(null=True, blank=True, default="State")
    postal_code_label = models.TextField(null=True, blank=True, default="Postal Code")
    sub_administrative_area_label = models.TextField(null=True, blank=True)
    required_fields = models.JSONField(default=dict, null=True, blank=True)
    optional_fields = models.JSONField(default=dict, null=True, blank=True)
    address_format = models.TextField()
    display_order = models.JSONField(default=dict, null=True, blank=True)
    postal_code_required = models.BooleanField(default=False)
    postal_code_pattern = models.TextField(null=True, blank=True)
    postal_code_example = models.TextField(null=True, blank=True)
    postal_code_length = models.IntegerField(null=True, blank=True)
    administrative_areas = models.JSONField(default=dict, null=True, blank=True)
    has_subdivisions = models.BooleanField(default=False)
    validation_rules = models.JSONField(default=dict, null=True, blank=True)
    geocoding_supported = models.BooleanField(default=False)
    preferred_geocoder = models.TextField(null=True, blank=True)
    standardization_provider = models.TextField(null=True, blank=True)
    standardization_available = models.BooleanField(default=False)
    example_addresses = models.JSONField(default=dict, null=True, blank=True)
    metadata = models.JSONField(default=dict, null=True, blank=True)

    class Meta:
        db_table = "country_address_formats"
        verbose_name = "CountryAddressFormats"
        ordering = ["-created_at"]


class AddressValidationCache(BaseModel):
    """Migrated from drizzle: addresses.ts"""

    input_hash = models.TextField(unique=True)
    country_code = models.TextField()
    address_line1 = models.TextField()
    locality = models.TextField()
    administrative_area = models.TextField(null=True, blank=True)
    postal_code = models.TextField(null=True, blank=True)
    is_valid = models.BooleanField(default=False)
    validated_by = models.TextField()
    confidence = models.TextField(null=True, blank=True)
    corrected_address = models.JSONField(default=dict, null=True, blank=True)
    latitude = models.TextField(null=True, blank=True)
    longitude = models.TextField(null=True, blank=True)
    metadata = models.JSONField(default=dict, null=True, blank=True)
    expires_at = models.DateTimeField()
    hit_count = models.IntegerField(default=1)
    last_hit_at = models.DateTimeField()
    created_at = models.DateTimeField()

    class Meta:
        db_table = "address_validation_cache"
        verbose_name = "AddressValidationCache"
        ordering = ["-created_at"]


class AddressChangeHistory(BaseModel):
    """Migrated from drizzle: addresses.ts"""

    address_id = models.UUIDField(null=True, blank=True)

    class Meta:
        db_table = "address_change_history"
        verbose_name = "AddressChangeHistory"


class FeatureFlags(BaseModel):
    """Migrated from drizzle: features.ts"""

    name = models.TextField(unique=True)
    type = models.TextField(default="boolean")
    enabled = models.BooleanField(default=False)
    percentage = models.IntegerField(null=True, blank=True)
    allowed_organizations = models.JSONField(default=dict, null=True, blank=True)
    allowed_users = models.JSONField(default=dict, null=True, blank=True)
    description = models.TextField(null=True, blank=True)
    tags = models.JSONField(default=dict, null=True, blank=True)
    created_at = models.DateTimeField(null=True, blank=True)

    class Meta:
        db_table = "feature_flags"
        verbose_name = "FeatureFlags"
        ordering = ["-created_at"]

    def __str__(self):
        return str(self.name)


class OrganizationSharingSettings(BaseModel):
    """Migrated from drizzle: sharing.ts"""

    organization_id = models.UUIDField(null=True, blank=True)

    class Meta:
        db_table = "organization_sharing_settings"
        verbose_name = "OrganizationSharingSettings"


class CrossOrgAccessLog(BaseModel):
    """Migrated from drizzle: sharing.ts"""

    user_id = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = "cross_org_access_log"
        verbose_name = "CrossOrgAccessLog"


class OrganizationSharingGrants(BaseModel):
    """Migrated from drizzle: sharing.ts"""

    grantor_org_id = models.UUIDField(null=True, blank=True)

    class Meta:
        db_table = "organization_sharing_grants"
        verbose_name = "OrganizationSharingGrants"


class UserUuidMapping(BaseModel):
    """Migrated from drizzle: uuid-mapping.ts"""

    user_uuid = models.UUIDField(default=uuid.uuid4, unique=True)
    clerk_user_id = models.TextField(unique=True)
    created_at = models.DateTimeField(null=True, blank=True)

    class Meta:
        db_table = "user_uuid_mapping"
        verbose_name = "UserUuidMapping"
        ordering = ["-created_at"]


class PendingProfiles(BaseModel):
    """Migrated from drizzle: pending-profiles.ts"""

    email = models.TextField(unique=True)
    token = models.TextField(null=True, blank=True)
    membership = models.TextField(default="pro")
    payment_provider = models.TextField(null=True, blank=True, default="whop")
    whop_user_id = models.TextField(null=True, blank=True)
    whop_membership_id = models.TextField(null=True, blank=True)
    plan_duration = models.TextField(null=True, blank=True)
    billing_cycle_start = models.DateTimeField(null=True, blank=True)
    billing_cycle_end = models.DateTimeField(null=True, blank=True)
    next_credit_renewal = models.DateTimeField(null=True, blank=True)
    usage_credits = models.IntegerField(null=True, blank=True, default=0)
    used_credits = models.IntegerField(null=True, blank=True, default=0)
    claimed = models.BooleanField(default=False)
    claimed_by_user_id = models.TextField(null=True, blank=True)
    claimed_at = models.DateTimeField(null=True, blank=True)
    created_at = models.DateTimeField()
    updated_at = models.DateTimeField(null=True, blank=True)

    class Meta:
        db_table = "pending_profiles"
        verbose_name = "PendingProfiles"
        ordering = ["-created_at"]

    def __str__(self):
        return str(self.email)


class Profiles(BaseModel):
    """Migrated from drizzle: profiles.ts"""

    MEMBERSHIP_CHOICES = [("free", "Free"), ("pro", "Pro")]
    PAYMENT_PROVIDER_CHOICES = [("stripe", "Stripe"), ("whop", "Whop")]
    WHOP_MEMBERSHIP_ID_CHOICES = [("free", "Free"), ("pro", "Pro")]

    user_id = models.TextField()
    email = models.TextField(null=True, blank=True)
    membership = models.CharField(
        choices=MEMBERSHIP_CHOICES, max_length=14, default="free"
    )
    payment_provider = models.CharField(
        choices=PAYMENT_PROVIDER_CHOICES,
        max_length=16,
        null=True,
        blank=True,
        default="whop",
    )
    stripe_customer_id = models.TextField(null=True, blank=True)
    stripe_subscription_id = models.TextField(null=True, blank=True)
    whop_user_id = models.TextField(null=True, blank=True)
    whop_membership_id = models.CharField(
        choices=WHOP_MEMBERSHIP_ID_CHOICES, max_length=14, null=True, blank=True
    )
    plan_duration = models.TextField(null=True, blank=True)
    billing_cycle_start = models.DateTimeField(null=True, blank=True)
    billing_cycle_end = models.DateTimeField(null=True, blank=True)
    next_credit_renewal = models.DateTimeField(null=True, blank=True)
    usage_credits = models.IntegerField(null=True, blank=True, default=0)
    used_credits = models.IntegerField(null=True, blank=True, default=0)
    status = models.TextField(null=True, blank=True, default="active")
    created_at = models.DateTimeField()
    updated_at = models.DateTimeField(null=True, blank=True)

    class Meta:
        db_table = "profiles"
        verbose_name = "Profiles"
        ordering = ["-created_at"]

    def __str__(self):
        return str(self.email)


class Users(BaseModel):
    """Migrated from drizzle: user-management.ts"""

    user_id = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = "users"
        verbose_name = "Users"


class OrganizationUsers(BaseModel):
    """Migrated from drizzle: user-management.ts"""

    organization_user_id = models.UUIDField(default=uuid.uuid4, unique=True)
    organization = models.ForeignKey(
        "Organizations",
        on_delete=models.CASCADE,
        related_name="organization_users_organization_set",
    )

    class Meta:
        db_table = "organization_users"
        verbose_name = "OrganizationUsers"


class UserSessions(BaseModel):
    """Migrated from drizzle: user-management.ts"""

    session_id = models.UUIDField(default=uuid.uuid4, unique=True)
    user_id = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = "user_sessions"
        verbose_name = "UserSessions"


class OauthProviders(BaseModel):
    """Migrated from drizzle: user-management.ts"""

    provider_id = models.UUIDField(default=uuid.uuid4, unique=True)
    user_id = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = "oauth_providers"
        verbose_name = "OauthProviders"


class MemberContactPreferences(BaseModel):
    """Migrated from drizzle: member-profile-v2-schema.ts"""

    user_id = models.UUIDField(unique=True)
    organization_id = models.UUIDField()
    preferred_contact_method = models.TextField(default="email")
    preferred_language = models.TextField(null=True, blank=True, default="en")
    email_opt_in = models.BooleanField(default=False)
    sms_opt_in = models.BooleanField(default=False)
    phone_opt_in = models.BooleanField(default=False)
    mail_opt_in = models.BooleanField(default=False)
    notification_preferences = models.JSONField(default=dict, null=True, blank=True)
    best_contact_times = models.JSONField(default=dict, null=True, blank=True)
    alternative_email = models.TextField(null=True, blank=True)
    alternative_phone = models.TextField(null=True, blank=True)
    emergency_contact_name = models.TextField(null=True, blank=True)
    emergency_contact_phone = models.TextField(null=True, blank=True)
    emergency_contact_relation = models.TextField(null=True, blank=True)
    accessibility_needs = models.TextField(null=True, blank=True)
    interpreter_required = models.BooleanField(default=False)
    interpreter_language = models.TextField(null=True, blank=True)
    metadata = models.JSONField(default=dict, null=True, blank=True)
    last_modified_by = models.TextField(null=True, blank=True)

    class Meta:
        db_table = "member_contact_preferences"
        verbose_name = "MemberContactPreferences"
        ordering = ["-created_at"]


class MemberEmploymentDetails(BaseModel):
    """Migrated from drizzle: member-profile-v2-schema.ts"""

    user_id = models.UUIDField(unique=True)
    organization_id = models.UUIDField()
    classification = models.TextField()
    job_title = models.TextField(null=True, blank=True)
    job_code = models.TextField(null=True, blank=True)
    pay_grade = models.TextField(null=True, blank=True)
    work_location_id = models.UUIDField(null=True, blank=True)
    department = models.TextField(null=True, blank=True)
    division = models.TextField(null=True, blank=True)
    cost_center = models.TextField(null=True, blank=True)
    seniority_date = models.DateTimeField(null=True, blank=True)
    seniority_years = models.IntegerField(null=True, blank=True)
    seniority_points = models.IntegerField(null=True, blank=True)
    shift_type = models.TextField(null=True, blank=True)
    shift_start = models.TextField(null=True, blank=True)
    shift_end = models.TextField(null=True, blank=True)
    work_days = models.JSONField(default=dict, null=True, blank=True)
    hours_per_week = models.IntegerField(null=True, blank=True)
    supervisor_name = models.TextField(null=True, blank=True)
    supervisor_id = models.UUIDField(null=True, blank=True)
    supervisor_contact = models.TextField(null=True, blank=True)
    employment_status = models.TextField(default="active")
    status_effective_date = models.DateTimeField(null=True, blank=True)
    status_reason = models.TextField(null=True, blank=True)
    expected_return_date = models.DateTimeField(null=True, blank=True)
    benefits_eligible = models.BooleanField(default=False)
    benefits_enrollment_date = models.DateTimeField(null=True, blank=True)
    pension_plan_enrolled = models.BooleanField(default=False)
    probation_end_date = models.DateTimeField(null=True, blank=True)
    is_probationary = models.BooleanField(default=False)
    steward = models.BooleanField(default=False)
    officer = models.BooleanField(default=False)
    committee_member = models.BooleanField(default=False)
    metadata = models.JSONField(default=dict, null=True, blank=True)
    last_modified_by = models.TextField(null=True, blank=True)

    class Meta:
        db_table = "member_employment_details"
        verbose_name = "MemberEmploymentDetails"
        ordering = ["-created_at"]


class MemberConsents(BaseModel):
    """Migrated from drizzle: member-profile-v2-schema.ts"""

    user_id = models.UUIDField()
    organization_id = models.UUIDField()
    consent_type = models.TextField()
    consent_category = models.TextField()
    granted = models.BooleanField(default=False)
    granted_at = models.DateTimeField(null=True, blank=True)
    revoked_at = models.DateTimeField(null=True, blank=True)
    consent_version = models.TextField(null=True, blank=True)
    consent_text = models.TextField(null=True, blank=True)
    consent_method = models.TextField(null=True, blank=True)
    ip_address = models.TextField(null=True, blank=True)
    user_agent = models.TextField(null=True, blank=True)
    witnessed_by = models.TextField(null=True, blank=True)
    expires_at = models.DateTimeField(null=True, blank=True)
    requires_renewal = models.BooleanField(default=False)
    metadata = models.JSONField(default=dict, null=True, blank=True)
    created_at = models.DateTimeField()
    created_by = models.TextField(null=True, blank=True)

    class Meta:
        db_table = "member_consents"
        verbose_name = "MemberConsents"
        ordering = ["-created_at"]


class MemberHistoryEvents(BaseModel):
    """Migrated from drizzle: member-profile-v2-schema.ts"""

    user_id = models.UUIDField()
    organization_id = models.UUIDField()
    event_type = models.TextField()
    event_category = models.TextField()
    event_date = models.DateTimeField()
    event_title = models.TextField()
    event_description = models.TextField(null=True, blank=True)
    event_data = models.JSONField(default=dict, null=True, blank=True)
    actor_id = models.TextField(null=True, blank=True)
    actor_name = models.TextField(null=True, blank=True)
    is_public = models.BooleanField(default=False)
    visible_to_member = models.BooleanField(default=False)
    metadata = models.JSONField(default=dict, null=True, blank=True)
    created_at = models.DateTimeField()
    created_by = models.TextField(null=True, blank=True)

    class Meta:
        db_table = "member_history_events"
        verbose_name = "MemberHistoryEvents"
        ordering = ["-created_at"]


class OrganizationMembers(BaseModel):
    """Migrated from drizzle: organization-members-schema.ts"""

    MEMBER_CATEGORY_CHOICES = [
        ("full_member", "Full Member"),
        ("associate", "Associate"),
        ("honorary", "Honorary"),
        ("retired", "Retired"),
    ]

    user_id = models.TextField()
    organization = models.ForeignKey(
        "Organizations",
        on_delete=models.CASCADE,
        related_name="organization_members_organization_set",
    )
    role = models.TextField()
    status = models.TextField()
    membership_number = models.TextField(null=True, blank=True)
    is_primary = models.BooleanField(default=False)
    member_category = models.CharField(
        choices=MEMBER_CATEGORY_CHOICES, max_length=21, null=True, blank=True
    )
    exempt_from_per_capita = models.BooleanField(default=False)
    exemption_reason = models.TextField(null=True, blank=True)
    exemption_approved_by = models.CharField(max_length=255, null=True, blank=True)

    class Meta:
        db_table = "organization_members"
        verbose_name = "OrganizationMembers"


class SsoProviders(BaseModel):
    """Migrated from drizzle: sso-scim-schema.ts"""

    organization = models.ForeignKey(
        "Organizations",
        on_delete=models.CASCADE,
        related_name="sso_providers_organization_set",
    )

    class Meta:
        db_table = "sso_providers"
        verbose_name = "SsoProviders"


class ScimConfigurations(BaseModel):
    """Migrated from drizzle: sso-scim-schema.ts"""

    organization = models.ForeignKey(
        "Organizations",
        on_delete=models.CASCADE,
        related_name="scim_configurations_organization_set",
    )

    class Meta:
        db_table = "scim_configurations"
        verbose_name = "ScimConfigurations"


class SsoSessions(BaseModel):
    """Migrated from drizzle: sso-scim-schema.ts"""

    provider = models.ForeignKey(
        "SsoProviders",
        on_delete=models.CASCADE,
        related_name="sso_sessions_provider_set",
    )

    class Meta:
        db_table = "sso_sessions"
        verbose_name = "SsoSessions"


class ScimEventsLog(BaseModel):
    """Migrated from drizzle: sso-scim-schema.ts"""

    config = models.ForeignKey(
        "ScimConfigurations",
        on_delete=models.CASCADE,
        related_name="scim_events_log_config_set",
    )

    class Meta:
        db_table = "scim_events_log"
        verbose_name = "ScimEventsLog"


class MfaConfigurations(BaseModel):
    """Migrated from drizzle: sso-scim-schema.ts"""

    user_id = models.UUIDField()
    organization = models.ForeignKey(
        "Organizations",
        on_delete=models.CASCADE,
        related_name="mfa_configurations_organization_set",
    )

    class Meta:
        db_table = "mfa_configurations"
        verbose_name = "MfaConfigurations"
